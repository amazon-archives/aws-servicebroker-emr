FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogZW1yLWFwYgppbWFnZTogYW5zaWJsZXBsYXlib29rYnVuZGxlL2Vtci1hcGIKZGVzY3Jp\
cHRpb246ICdNYW5hZ2VkIEhhZG9vcCBjbHVzdGVyIGluIHRoZSBjbG91ZCB3aXRoIGp1c3QgYSBm\
ZXcgY2xpY2tzLicKdGFnczoKICAtIGFtYXpvbgogIC0gZW1yCmJpbmRhYmxlOiB0cnVlCmFzeW5j\
OiBvcHRpb25hbAptZXRhZGF0YToKICBkaXNwbGF5TmFtZTogIkFtYXpvbiBFTVIgKEFQQikiCiAg\
bG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9uIEVsYXN0aWMgTWFwIHJlZHVjZSAgKEFtYXpvbiBFTVIp\
IHByb3ZpZGVzIGEgbWFuYWdlZCBIYWRvb3AgZnJhbWV3b3JrIHRoYXQgbWFrZXMgaXQgZWFzeSwg\
ZmFzdCwgYW5kIGNvc3QtZWZmZWN0aXZlIHRvIHByb2Nlc3MgdmFzdCBhbW91bnRzIG9mIGRhdGEg\
YWNyb3NzIGR5bmFtaWNhbGx5IHNjYWxhYmxlIEFtYXpvbiBFQzIgaW5zdGFuY2VzLiIKICBpbWFn\
ZVVybDogImh0dHBzOi8vczMuYW1hem9uYXdzLmNvbS90aHAtYXdzLWljb25zLWRldi9BbmFseXRp\
Y3NfQW1hem9uRU1SX0xBUkdFLnBuZyIKICBkb2N1bWVudGF0aW9uVXJsOiAiaHR0cHM6Ly9hd3Mu\
YW1hem9uLmNvbS9lbXIvIgpwbGFuczoKICAtIG5hbWU6IGRlZmF1bHQKICAgIGRlc2NyaXB0aW9u\
OiAnRU1SIENsdXN0ZXInCiAgICBmcmVlOiBmYWxzZQogICAgcGFyYW1ldGVyczoKICAgICAgLSBu\
YW1lOiBzdGFja19pZGVudGlmaWVyCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRs\
ZTogVW5pcXVlIFN0YWNrIElkZW50aWZpZXIKICAgICAgICBkZXNjcmlwdGlvbjogJ1VuaXF1ZSBp\
ZGVudGlmaWVyIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBDbG91ZEZvcm1hdGlvbiBTdGFjayBOYW1l\
IHRvIHByZXZlbnQgbmFtaW5nIGNvbGxpc2lvbnMuIE11c3Qgb25seSBjb250YWluIGFscGhhbnVt\
ZXJpYyBjaGFyYWN0ZXJzIGFuZCBoeXBoZW5zLiAoZS5nLiAic2FtcGxlLWVtci1zdGFjayIsICJw\
cm9kdWN0aW9uLWVtci0wOC0yMDE3IiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFt\
ZTogYXdzX2FjY2Vzc19rZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBB\
V1MgQWNjZXNzIEtleQogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0\
aGVudGljYXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1l\
OiBhd3Nfc2VjcmV0X2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFX\
UyBTZWNyZXQgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgU2VjcmV0IEtleSB0byBhdXRo\
ZW50aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6\
IHJlZ2lvbgogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBSZWdpb24K\
ICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBSZWdpb24gdG8gY3JlYXRlIEVNUiBDbHVzdGVyIGlu\
LicKICAgICAgICB0eXBlOiBlbnVtCiAgICAgICAgZW51bToKICAgICAgICAgICAtIGFwLW5vcnRo\
ZWFzdC0xCiAgICAgICAgICAgLSBhcC1ub3J0aGVhc3QtMgogICAgICAgICAgIC0gYXAtc291dGgt\
MQogICAgICAgICAgIC0gYXAtc291dGhlYXN0LTEKICAgICAgICAgICAtIGFwLXNvdXRoZWFzdC0y\
CiAgICAgICAgICAgLSBjYS1jZW50cmFsLTEKICAgICAgICAgICAtIGV1LWNlbnRyYWwtMQogICAg\
ICAgICAgIC0gZXUtd2VzdC0xCiAgICAgICAgICAgLSBldS13ZXN0LTIKICAgICAgICAgICAtIHNh\
LWVhc3QtMQogICAgICAgICAgIC0gdXMtZWFzdC0xCiAgICAgICAgICAgLSB1cy1lYXN0LTIKICAg\
ICAgICAgICAtIHVzLXdlc3QtMQogICAgICAgICAgIC0gdXMtd2VzdC0yCiAgICAgICAgZGVmYXVs\
dDogInVzLXdlc3QtMiIKICAgICAgLSBuYW1lOiBBcHBsaWNhdGlvbk5hbWUKICAgICAgICByZXF1\
aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBcHBsaWNhdGlvbiBOYW1lCiAgICAgICAgZGVzY3Jp\
cHRpb246ICdFTVIgQ2x1c3RlciBBcHBsaWNhdGlvbiB0byBiZSBpbnN0YWxsZWQgKGUuZy4gIlNw\
YXJrIiwgIkhiYXNlIiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogIlNw\
YXJrIgogICAgICAtIG5hbWU6IEVNUkNsdXN0ZXJOYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUK\
ICAgICAgICB0aXRsZTogRU1SIENsdXN0ZXIgTmFtZQogICAgICAgIGRlc2NyaXB0aW9uOiAnTmFt\
ZSBvZiB0aGUgY2x1c3RlcicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAi\
RU1SQ2x1c3RlcjEiCiAgICAgIC0gbmFtZTogS2V5TmFtZQogICAgICAgIHJlcXVpcmVkOiB0cnVl\
CiAgICAgICAgdGl0bGU6IEVDMiBLZXkgUGFpcgogICAgICAgIGRlc2NyaXB0aW9uOiAnS2V5IFBh\
aXIgZm9yIFNTSCBhY2Nlc3MgdG8gY2x1c3RlcicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAg\
ICBkZWZhdWx0OiAiTXlLZXlQYWlyIgogICAgICAtIG5hbWU6IE1hc3Rlckluc3RhbmNlVHlwZQog\
ICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IE1hc3RlciBJbnN0YW5jZSBUeXBl\
CiAgICAgICAgZGVzY3JpcHRpb246ICdFQzIgaW5zdGFuY2UgdHlwZSBmb3IgTWFzdGVyIE5vZGUn\
CiAgICAgICAgdHlwZTogZW51bQogICAgICAgIGVudW06CiAgICAgICAgICAtIG00LjJ4bGFyZ2UK\
ICAgICAgICAgIC0gbTQubGFyZ2UKICAgICAgICAgIC0gbTQueGxhcmdlCiAgICAgICAgICAtIG00\
LjR4bGFyZ2UKICAgICAgICAgIC0gbTQuMTB4bGFyZ2UKICAgICAgICAgIC0gbTQuMTZ4bGFyZ2UK\
ICAgICAgICAgIC0gbTMueGxhcmdlCiAgICAgICAgICAtIG0zLjJ4bGFyZ2UKICAgICAgICAgIC0g\
YzMueGxhcmdlCiAgICAgICAgICAtIGMzLjJ4bGFyZ2UKICAgICAgICAgIC0gYzMuNHhsYXJnZQog\
ICAgICAgICAgLSBjMy44eGxhcmdlCiAgICAgICAgICAtIGM0LmxhcmdlCiAgICAgICAgICAtIGM0\
LnhsYXJnZQogICAgICAgICAgLSBjNC4yeGxhcmdlCiAgICAgICAgICAtIGM0LjR4bGFyZ2UKICAg\
ICAgICAgIC0gYzQuOHhsYXJnZQogICAgICAgICAgLSBkMi54bGFyZ2UKICAgICAgICAgIC0gZDIu\
MnhsYXJnZQogICAgICAgICAgLSBkMi40eGxhcmdlCiAgICAgICAgICAtIGQyLjh4bGFyZ2UKICAg\
ICAgICAgIC0gcjQueGxhcmdlCiAgICAgICAgICAtIHI0LjJ4bGFyZ2UKICAgICAgICAgIC0gcjQu\
NHhsYXJnZQogICAgICAgICAgLSByNC44eGxhcmdlCiAgICAgICAgICAtIHI0LjE2eGxhcmdlCiAg\
ICAgICAgZGVmYXVsdDogIm0zLnhsYXJnZSIKICAgICAgLSBuYW1lOiBDb3JlSW5zdGFuY2VUeXBl\
CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQ29yZSBJbnN0YW5jZSBUeXBl\
CiAgICAgICAgZGVzY3JpcHRpb246ICdFQzIgaW5zdGFuY2UgdHlwZSBmb3IgQ29yZSBOb2RlcycK\
ICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAibTMueGxhcmdlIgogICAgICAt\
IG5hbWU6IE51bWJlck9mQ29yZUluc3RhbmNlcwogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAg\
ICAgdGl0bGU6IE51bWJlciBvZiBDb3JlIE5vZGVzCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUg\
bnVtYmVyIG9mIGNvcmUgbm9kZXMgdG8gYmUgbGF1bmNoZWQnCiAgICAgICAgdHlwZTogaW50CiAg\
ICAgICAgZGVmYXVsdDogMgogICAgICAtIG5hbWU6IFN1Ym5ldElECiAgICAgICAgcmVxdWlyZWQ6\
IHRydWUKICAgICAgICB0aXRsZTogU3VibmV0IElECiAgICAgICAgZGVzY3JpcHRpb246ICdWUEMg\
c3VibmV0IG5vZGUgYXJlIHRvIGJlIGxhdW5jaGVkIGludG8gKGUuZy4gInN1Ym5ldC1kYmE0MzBh\
ZCIpJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IExvZ1VyaQogICAgICAgIHJl\
cXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFMzIGxvZyBidWNrZXQKICAgICAgICBkZXNjcmlw\
dGlvbjogJ1MzIHVybCBmb3IgYnVja2V0IHRvIGJlIHVzZWQgZm9yIGxvZ2dpbmcgKGUuZy4gInMz\
Oi8vZW1yY2x1c3RlcmxvZ2J1Y2tldC8iKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBu\
YW1lOiBTM0RhdGFVcmkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBTMyBk\
YXRhIGJ1Y2tldAogICAgICAgIGRlc2NyaXB0aW9uOiAnUzMgdXJsIGZvciBidWNrZXQgdG8gYmUg\
dXNlZCBmb3IgZGF0YSAoZS5nLiAiczM6Ly9lbXJjbHVzdGVyZGF0YWJ1Y2tldC8iKScKICAgICAg\
ICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBSZWxlYXNlTGFiZWwKICAgICAgICByZXF1aXJl\
ZDogdHJ1ZQogICAgICAgIHRpdGxlOiBWZXJzaW9uIG9mIEVNUiB0byBiZSB1c2VkCiAgICAgICAg\
ZGVzY3JpcHRpb246ICdFTVIgcmVsZWFzZScKICAgICAgICB0eXBlOiBlbnVtCiAgICAgICAgZW51\
bToKICAgICAgICAgIC0gZW1yLTUuOC4wCiAgICAgICAgICAtIGVtci01LjcuMAogICAgICAgICAg\
LSBlbXItNS42LjAKICAgICAgICAgIC0gZW1yLTUuNS4wCiAgICAgICAgZGVmYXVsdDogImVtci01\
LjcuMCIKICAgIG1ldGFkYXRhOgogICAgICBkaXNwbGF5TmFtZTogIlN0YW5kYXJkIgogICAgICBp\
bWFnZVVybDogImh0dHBzOi8vczMuYW1hem9uYXdzLmNvbS90aHAtYXdzLWljb25zLWRldi9BbmFs\
eXRpY3NfQW1hem9uRU1SX0xBUkdFLnBuZyIKICAgICAgZG9jdW1lbnRhdGlvblVybDogImh0dHBz\
Oi8vYXdzLmFtYXpvbi5jb20vZG9jdW1lbnRhdGlvbi9lbXIvIgogICAgICBsb25nRGVzY3JpcHRp\
b246ICJBbWF6b24gRU1SIGlzIGEgd2ViIHNlcnZpY2UgdGhhdCBtYWtlcyBpdCBlYXN5IHRvIHBy\
b2Nlc3MgbGFyZ2UgYW1vdW50cyBvZiBkYXRhIGVmZmljaWVudGx5LiBBbWF6b24gRU1SIHVzZXMg\
SGFkb29wIHByb2Nlc3NpbmcgY29tYmluZWQgd2l0aCBzZXZlcmFsIEFXUyBwcm9kdWN0cyB0byBk\
byBzdWNoIHRhc2tzIGFzIHdlYiBpbmRleGluZywgZGF0YSBtaW5pbmcsIGxvZyBmaWxlIGFuYWx5\
c2lzLCBtYWNoaW5lIGxlYXJuaW5nLCBzY2llbnRpZmljIHNpbXVsYXRpb24sIGFuZCBkYXRhIHdh\
cmVob3VzaW5nLiIKICAgICAgY29zdDogJDAuMDAK"





USER apb
