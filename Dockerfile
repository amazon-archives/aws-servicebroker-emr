FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 python-boto && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.spec"=\
"dmVyc2lvbjogMS4wCm5hbWU6IGVtci1hcGIKZGVzY3JpcHRpb246ICdNYW5hZ2VkIEhhZG9vcCBj\
bHVzdGVyIGluIHRoZSBjbG91ZCB3aXRoIGp1c3QgYSBmZXcgY2xpY2tzLicKdGFnczoKICAtIGFt\
YXpvbgogIC0gZW1yCmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbAptZXRhZGF0YToKICBk\
aXNwbGF5TmFtZTogIkFtYXpvbiBFTVIiCiAgaW1hZ2VVcmw6ICJodHRwczovL3MzLmFtYXpvbmF3\
cy5jb20vdGhwLWF3cy1pY29ucy1kZXYvQW5hbHl0aWNzX0FtYXpvbkVNUl9MQVJHRS5wbmciCiAg\
bG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9uIEVsYXN0aWMgTWFwIHJlZHVjZSAoQW1hem9uIEVNUikg\
cHJvdmlkZXMgYSBtYW5hZ2VkIEhhZG9vcCBmcmFtZXdvcmsgdGhhdCBtYWtlcyBpdCBlYXN5LCBm\
YXN0LCBhbmQgY29zdC1lZmZlY3RpdmUgdG8gcHJvY2VzcyB2YXN0IGFtb3VudHMgb2YgZGF0YSBh\
Y3Jvc3MgZHluYW1pY2FsbHkgc2NhbGFibGUgQW1hem9uIEVDMiBpbnN0YW5jZXMuIgogIGRvY3Vt\
ZW50YXRpb25Vcmw6ICJodHRwczovL2F3cy5hbWF6b24uY29tL2Vtci8iCnBsYW5zOgogIC0gbmFt\
ZTogZW1yCiAgICBkZXNjcmlwdGlvbjogJ0VNUiBDbHVzdGVyJwogICAgZnJlZTogZmFsc2UKICAg\
IG1ldGFkYXRhOgogICAgICBkaXNwbGF5TmFtZTogIlN0YW5kYXJkIEVNUiIKICAgICAgbG9uZ0Rl\
c2NyaXB0aW9uOiAiQW1hem9uIEVNUiBpcyBhIHdlYiBzZXJ2aWNlIHRoYXQgbWFrZXMgaXQgZWFz\
eSB0byBwcm9jZXNzIGxhcmdlIGFtb3VudHMgb2YgZGF0YSBlZmZpY2llbnRseS4gQW1hem9uIEVN\
UiB1c2VzIEhhZG9vcCBwcm9jZXNzaW5nIGNvbWJpbmVkIHdpdGggc2V2ZXJhbCBBV1MgcHJvZHVj\
dHMgdG8gZG8gc3VjaCB0YXNrcyBhcyB3ZWIgaW5kZXhpbmcsIGRhdGEgbWluaW5nLCBsb2cgZmls\
ZSBhbmFseXNpcywgbWFjaGluZSBsZWFybmluZywgc2NpZW50aWZpYyBzaW11bGF0aW9uLCBhbmQg\
ZGF0YSB3YXJlaG91c2luZy4iCiAgICAgIGNvc3Q6ICQwLjAwCiAgICBwYXJhbWV0ZXJzOgogICAg\
ICAjIyMjIyMjIyMjIyMjIyMKICAgICAgIyBBV1MgQWNjb3VudCBJbmZvcm1hdGlvbgogICAgICAj\
IyMjIyMjIyMjIyMjIyMKICAgICAgLSBuYW1lOiBhd3NfYWNjZXNzX2tleQogICAgICAgIHJlcXVp\
cmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBBY2Nlc3MgS2V5CiAgICAgICAgZGVzY3JpcHRp\
b246ICdBV1MgQWNjZXNzIEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAg\
IHR5cGU6IHN0cmluZwogICAgICAgIGRpc3BsYXlfZ3JvdXA6IEFXUyBBY2NvdW50IEluZm9ybWF0\
aW9uCiAgICAgIC0gbmFtZTogYXdzX3NlY3JldF9rZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQog\
ICAgICAgIHRpdGxlOiBBV1MgU2VjcmV0IEtleQogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIFNl\
Y3JldCBLZXkgdG8gYXV0aGVudGljYXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJp\
bmcKICAgICAgICBkaXNwbGF5X2dyb3VwOiBBV1MgQWNjb3VudCBJbmZvcm1hdGlvbgogICAgICAt\
IG5hbWU6IGF3c19jbG91ZGZvcm1hdGlvbl9yb2xlX2FybgogICAgICAgIHJlcXVpcmVkOiB0cnVl\
CiAgICAgICAgdGl0bGU6IEFXUyBDbG91ZGZvcm1hdGlvbiByb2xlIEFSTgogICAgICAgIGRlc2Ny\
aXB0aW9uOiAnSUFNIHJvbGUgQVJOIGZvciB1c2UgYXMgQ2xvdWRmb3JtYXRpb24gU3RhY2sgUm9s\
ZS4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGlzcGxheV9ncm91cDogQVdTIEFjY291\
bnQgSW5mb3JtYXRpb24KICAgICAgLSBuYW1lOiBLZXlOYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRy\
dWUKICAgICAgICB0aXRsZTogRUMyIEtleSBQYWlyCiAgICAgICAgZGVzY3JpcHRpb246ICdLZXkg\
UGFpciBmb3IgU1NIIGFjY2VzcyB0byBjbHVzdGVyJwogICAgICAgIHR5cGU6IHN0cmluZwogICAg\
ICAgIGRlZmF1bHQ6ICJNeUtleVBhaXIiCiAgICAgICAgZGlzcGxheV9ncm91cDogQVdTIEFjY291\
bnQgSW5mb3JtYXRpb24KICAgICAgLSBuYW1lOiByZWdpb24KICAgICAgICByZXF1aXJlZDogdHJ1\
ZQogICAgICAgIHRpdGxlOiBBV1MgUmVnaW9uCiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgUmVn\
aW9uIHRvIGNyZWF0ZSBFTVIgQ2x1c3RlciBpbi4nCiAgICAgICAgdHlwZTogZW51bQogICAgICAg\
IGVudW06CiAgICAgICAgICAtIGFwLW5vcnRoZWFzdC0xCiAgICAgICAgICAtIGFwLW5vcnRoZWFz\
dC0yCiAgICAgICAgICAtIGFwLXNvdXRoLTEKICAgICAgICAgIC0gYXAtc291dGhlYXN0LTEKICAg\
ICAgICAgIC0gYXAtc291dGhlYXN0LTIKICAgICAgICAgIC0gY2EtY2VudHJhbC0xCiAgICAgICAg\
ICAtIGV1LWNlbnRyYWwtMQogICAgICAgICAgLSBldS13ZXN0LTEKICAgICAgICAgIC0gZXUtd2Vz\
dC0yCiAgICAgICAgICAtIHNhLWVhc3QtMQogICAgICAgICAgLSB1cy1lYXN0LTEKICAgICAgICAg\
IC0gdXMtZWFzdC0yCiAgICAgICAgICAtIHVzLXdlc3QtMQogICAgICAgICAgLSB1cy13ZXN0LTIK\
ICAgICAgICBkZWZhdWx0OiAidXMtd2VzdC0yIgogICAgICAjIyMjIyMjIyMjIyMjIyMKICAgICAg\
IyBFTVIgU2V0dGluZ3MKICAgICAgIyMjIyMjIyMjIyMjIyMjCiAgICAgIC0gbmFtZTogRU1SQXBw\
bGljYXRpb24KICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBFTVIgQXBwbGlj\
YXRpb24KICAgICAgICBkZXNjcmlwdGlvbjogJ0VNUiBDbHVzdGVyIEFwcGxpY2F0aW9uIHRvIGJl\
IGluc3RhbGxlZCcKICAgICAgICB0eXBlOiBlbnVtCiAgICAgICAgZW51bToKICAgICAgICAgIC0g\
U3BhcmsKICAgICAgICAgIC0gSGJhc2UKICAgICAgICBkZWZhdWx0OiBTcGFyawogICAgICAgIGRp\
c3BsYXlfZ3JvdXA6IEVNUiBTZXR0aW5ncwogICAgICAtIG5hbWU6IEVNUkNsdXN0ZXJOYW1lCiAg\
ICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogRU1SIENsdXN0ZXIgTmFtZQogICAg\
ICAgIGRlc2NyaXB0aW9uOiAnTmFtZSBvZiB0aGUgY2x1c3RlcicKICAgICAgICB0eXBlOiBzdHJp\
bmcKICAgICAgICBkZWZhdWx0OiAiRU1SQ2x1c3RlcjEiCiAgICAgICAgZGlzcGxheV9ncm91cDog\
RU1SIFNldHRpbmdzCiAgICAgIC0gbmFtZTogUmVsZWFzZUxhYmVsCiAgICAgICAgcmVxdWlyZWQ6\
IHRydWUKICAgICAgICB0aXRsZTogVmVyc2lvbiBvZiBFTVIgdG8gYmUgdXNlZAogICAgICAgIGRl\
c2NyaXB0aW9uOiAnRU1SIHJlbGVhc2UnCiAgICAgICAgdHlwZTogZW51bQogICAgICAgIGVudW06\
CiAgICAgICAgICAtIGVtci01LjguMAogICAgICAgICAgLSBlbXItNS43LjAKICAgICAgICAgIC0g\
ZW1yLTUuNi4wCiAgICAgICAgICAtIGVtci01LjUuMAogICAgICAgIGRlZmF1bHQ6ICJlbXItNS43\
LjAiCiAgICAgICAgZGlzcGxheV9ncm91cDogRU1SIFNldHRpbmdzCiAgICAgICMjIyMjIyMjIyMj\
IyMjIwogICAgICAjIENsdXN0ZXIgU2l6aW5nCiAgICAgICMjIyMjIyMjIyMjIyMjIwogICAgICAt\
IG5hbWU6IE1hc3Rlckluc3RhbmNlVHlwZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAg\
dGl0bGU6IE1hc3RlciBJbnN0YW5jZSBUeXBlCiAgICAgICAgZGVzY3JpcHRpb246ICdFQzIgaW5z\
dGFuY2UgdHlwZSBmb3IgTWFzdGVyIE5vZGUnCiAgICAgICAgdHlwZTogZW51bQogICAgICAgIGVu\
dW06CiAgICAgICAgICAtIG00LjJ4bGFyZ2UKICAgICAgICAgIC0gbTQubGFyZ2UKICAgICAgICAg\
IC0gbTQueGxhcmdlCiAgICAgICAgICAtIG00LjR4bGFyZ2UKICAgICAgICAgIC0gbTQuMTB4bGFy\
Z2UKICAgICAgICAgIC0gbTQuMTZ4bGFyZ2UKICAgICAgICAgIC0gbTMueGxhcmdlCiAgICAgICAg\
ICAtIG0zLjJ4bGFyZ2UKICAgICAgICAgIC0gYzMueGxhcmdlCiAgICAgICAgICAtIGMzLjJ4bGFy\
Z2UKICAgICAgICAgIC0gYzMuNHhsYXJnZQogICAgICAgICAgLSBjMy44eGxhcmdlCiAgICAgICAg\
ICAtIGM0LmxhcmdlCiAgICAgICAgICAtIGM0LnhsYXJnZQogICAgICAgICAgLSBjNC4yeGxhcmdl\
CiAgICAgICAgICAtIGM0LjR4bGFyZ2UKICAgICAgICAgIC0gYzQuOHhsYXJnZQogICAgICAgICAg\
LSBkMi54bGFyZ2UKICAgICAgICAgIC0gZDIuMnhsYXJnZQogICAgICAgICAgLSBkMi40eGxhcmdl\
CiAgICAgICAgICAtIGQyLjh4bGFyZ2UKICAgICAgICAgIC0gcjQueGxhcmdlCiAgICAgICAgICAt\
IHI0LjJ4bGFyZ2UKICAgICAgICAgIC0gcjQuNHhsYXJnZQogICAgICAgICAgLSByNC44eGxhcmdl\
CiAgICAgICAgICAtIHI0LjE2eGxhcmdlCiAgICAgICAgZGVmYXVsdDogIm0zLnhsYXJnZSIKICAg\
ICAgICBkaXNwbGF5X2dyb3VwOiBDbHVzdGVyIFNpemluZwogICAgICAtIG5hbWU6IENvcmVJbnN0\
YW5jZVR5cGUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBDb3JlIEluc3Rh\
bmNlIFR5cGUKICAgICAgICBkZXNjcmlwdGlvbjogJ0VDMiBpbnN0YW5jZSB0eXBlIGZvciBDb3Jl\
IE5vZGVzJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJtMy54bGFyZ2Ui\
CiAgICAgICAgZGlzcGxheV9ncm91cDogQ2x1c3RlciBTaXppbmcKICAgICAgLSBuYW1lOiBOdW1i\
ZXJPZkNvcmVJbnN0YW5jZXMKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBO\
dW1iZXIgb2YgQ29yZSBOb2RlcwogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG51bWJlciBvZiBj\
b3JlIG5vZGVzIHRvIGJlIGxhdW5jaGVkJwogICAgICAgIHR5cGU6IGludAogICAgICAgIGRlZmF1\
bHQ6IDIKICAgICAgICBkaXNwbGF5X2dyb3VwOiBDbHVzdGVyIFNpemluZwogICAgICAjIyMjIyMj\
IyMjIyMjIyMKICAgICAgIyBOZXR3b3JrIFNldHRpbmdzCiAgICAgICMjIyMjIyMjIyMjIyMjIwog\
ICAgICAtIG5hbWU6IFZwY0lkCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTog\
VlBDIElECiAgICAgICAgZGVzY3JpcHRpb246ICdWUEMgdG8gcGxhY2UgRU1SIHN1Ym5ldCBpbnRv\
JwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRpc3BsYXlfZ3JvdXA6IE5ldHdvcmsgU2V0\
dGluZ3MKICAgICAgLSBuYW1lOiBFTVJDaWRyCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAg\
ICB0aXRsZTogRU1SIENJRFIgUmFuZ2UKICAgICAgICBkZXNjcmlwdGlvbjogJ0NJRFIgUmFuZ2Ug\
dG8gdXNlIGZvciBFTVIgY2x1c3RlciBzdWJuZXQnCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAg\
ICAgZGlzcGxheV9ncm91cDogTmV0d29yayBTZXR0aW5ncw=="





USER apb
