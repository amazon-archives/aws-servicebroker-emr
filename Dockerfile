FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.spec"=\
"dmVyc2lvbjogMS4wCm5hbWU6IGVtci1hcGIKZGVzY3JpcHRpb246ICdNYW5hZ2VkIEhhZG9vcCBj\
bHVzdGVyIGluIHRoZSBjbG91ZCB3aXRoIGp1c3QgYSBmZXcgY2xpY2tzLicKdGFnczoKICAtIGFt\
YXpvbgogIC0gZW1yCmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbAptZXRhZGF0YToKICBk\
aXNwbGF5TmFtZTogIkFtYXpvbiBFTVIgKEFQQikiCiAgbG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9u\
IEVsYXN0aWMgTWFwIHJlZHVjZSAgKEFtYXpvbiBFTVIpIHByb3ZpZGVzIGEgbWFuYWdlZCBIYWRv\
b3AgZnJhbWV3b3JrIHRoYXQgbWFrZXMgaXQgZWFzeSwgZmFzdCwgYW5kIGNvc3QtZWZmZWN0aXZl\
IHRvIHByb2Nlc3MgdmFzdCBhbW91bnRzIG9mIGRhdGEgYWNyb3NzIGR5bmFtaWNhbGx5IHNjYWxh\
YmxlIEFtYXpvbiBFQzIgaW5zdGFuY2VzLiIKICBpbWFnZVVybDogImh0dHBzOi8vczMuYW1hem9u\
YXdzLmNvbS90aHAtYXdzLWljb25zLWRldi9BbmFseXRpY3NfQW1hem9uRU1SX0xBUkdFLnBuZyIK\
ICBkb2N1bWVudGF0aW9uVXJsOiAiaHR0cHM6Ly9hd3MuYW1hem9uLmNvbS9lbXIvIgpwbGFuczoK\
ICAtIG5hbWU6IGRlZmF1bHQKICAgIGRlc2NyaXB0aW9uOiAnRU1SIENsdXN0ZXInCiAgICBmcmVl\
OiBmYWxzZQogICAgcGFyYW1ldGVyczoKICAgICAgLSBuYW1lOiBzdGFja19pZGVudGlmaWVyCiAg\
ICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogVW5pcXVlIFN0YWNrIElkZW50aWZp\
ZXIKICAgICAgICBkZXNjcmlwdGlvbjogJ1VuaXF1ZSBpZGVudGlmaWVyIHRvIGJlIGluY2x1ZGVk\
IGluIHRoZSBDbG91ZEZvcm1hdGlvbiBTdGFjayBOYW1lIHRvIHByZXZlbnQgbmFtaW5nIGNvbGxp\
c2lvbnMuIE11c3Qgb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIGFuZCBoeXBo\
ZW5zLiAoZS5nLiAic2FtcGxlLWVtci1zdGFjayIsICJwcm9kdWN0aW9uLWVtci0wOC0yMDE3Iikn\
CiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogYXdzX2FjY2Vzc19rZXkKICAgICAg\
ICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgQWNjZXNzIEtleQogICAgICAgIGRl\
c2NyaXB0aW9uOiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0aGVudGljYXRlIHRvIEFXUyB3aXRoLicK\
ICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBhd3Nfc2VjcmV0X2tleQogICAgICAg\
IHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBTZWNyZXQgS2V5CiAgICAgICAgZGVz\
Y3JpcHRpb246ICdBV1MgU2VjcmV0IEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwog\
ICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IHJlZ2lvbgogICAgICAgIHJlcXVpcmVk\
OiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBSZWdpb24KICAgICAgICBkZXNjcmlwdGlvbjogJ0FX\
UyBSZWdpb24gdG8gY3JlYXRlIEVNUiBDbHVzdGVyIGluLicKICAgICAgICB0eXBlOiBzdHJpbmcK\
ICAgICAgICBkZWZhdWx0OiAidXMtd2VzdC0yIgogICAgICAtIG5hbWU6IEFwcGxpY2F0aW9uTmFt\
ZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFwcGxpY2F0aW9uIE5hbWUK\
ICAgICAgICBkZXNjcmlwdGlvbjogJ0VNUiBDbHVzdGVyIEFwcGxpY2F0aW9uIHRvIGJlIGluc3Rh\
bGxlZCAoZS5nLiAiU3BhcmsiLCAiSGJhc2UiKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAg\
ICBkZWZhdWx0OiAiU3BhcmsiCiAgICAgIC0gbmFtZTogRU1SQ2x1c3Rlck5hbWUKICAgICAgICBy\
ZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBFTVIgQ2x1c3RlciBOYW1lCiAgICAgICAgZGVz\
Y3JpcHRpb246ICdOYW1lIG9mIHRoZSBjbHVzdGVyJwogICAgICAgIHR5cGU6IHN0cmluZwogICAg\
ICAgIGRlZmF1bHQ6ICJFTVJDbHVzdGVyMSIKICAgICAgLSBuYW1lOiBLZXlOYW1lCiAgICAgICAg\
cmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogRUMyIEtleSBQYWlyCiAgICAgICAgZGVzY3Jp\
cHRpb246ICdLZXkgUGFpciBmb3IgU1NIIGFjY2VzcyB0byBjbHVzdGVyJwogICAgICAgIHR5cGU6\
IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJNeUtleVBhaXIiCiAgICAgIC0gbmFtZTogTWFzdGVy\
SW5zdGFuY2VUeXBlCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogTWFzdGVy\
IEluc3RhbmNlIFR5cGUKICAgICAgICBkZXNjcmlwdGlvbjogJ0VDMiBpbnN0YW5jZSB0eXBlIGZv\
ciBNYXN0ZXIgTm9kZScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAibTMu\
eGxhcmdlIgogICAgICAtIG5hbWU6IENvcmVJbnN0YW5jZVR5cGUKICAgICAgICByZXF1aXJlZDog\
dHJ1ZQogICAgICAgIHRpdGxlOiBDb3JlIEluc3RhbmNlIFR5cGUKICAgICAgICBkZXNjcmlwdGlv\
bjogJ0VDMiBpbnN0YW5jZSB0eXBlIGZvciBDb3JlIE5vZGVzJwogICAgICAgIHR5cGU6IHN0cmlu\
ZwogICAgICAgIGRlZmF1bHQ6ICJtMy54bGFyZ2UiCiAgICAgIC0gbmFtZTogTnVtYmVyT2ZDb3Jl\
SW5zdGFuY2VzCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogTnVtYmVyIG9m\
IENvcmUgTm9kZXMKICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2YgY29yZSBub2Rl\
cyB0byBiZSBsYXVuY2hlZCcKICAgICAgICB0eXBlOiBpbnQKICAgICAgICBkZWZhdWx0OiAyCiAg\
ICAgIC0gbmFtZTogU3VibmV0SUQKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxl\
OiBTdWJuZXQgSUQKICAgICAgICBkZXNjcmlwdGlvbjogJ1ZQQyBzdWJuZXQgbm9kZSBhcmUgdG8g\
YmUgbGF1bmNoZWQgaW50byAoZS5nLiAic3VibmV0LWRiYTQzMGFkIiknCiAgICAgICAgdHlwZTog\
c3RyaW5nCiAgICAgIC0gbmFtZTogTG9nVXJpCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAg\
ICB0aXRsZTogUzMgbG9nIGJ1Y2tldAogICAgICAgIGRlc2NyaXB0aW9uOiAnUzMgdXJsIGZvciBi\
dWNrZXQgdG8gYmUgdXNlZCBmb3IgbG9nZ2luZyAoZS5nLiAiczM6Ly9lbXJjbHVzdGVybG9nYnVj\
a2V0LyIpJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IFMzRGF0YVVyaQogICAg\
ICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFMzIGRhdGEgYnVja2V0CiAgICAgICAg\
ZGVzY3JpcHRpb246ICdTMyB1cmwgZm9yIGJ1Y2tldCB0byBiZSB1c2VkIGZvciBkYXRhIChlLmcu\
ICJzMzovL2VtcmNsdXN0ZXJkYXRhYnVja2V0LyIpJwogICAgICAgIHR5cGU6IHN0cmluZwogICAg\
ICAtIG5hbWU6IFJlbGVhc2VMYWJlbAogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0\
bGU6IFZlcnNpb24gb2YgRU1SIHRvIGJlIHVzZWQKICAgICAgICBkZXNjcmlwdGlvbjogJ0VNUiBy\
ZWxlYXNlJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJlbXItNS43LjAi\
CiAgICBtZXRhZGF0YToKICAgICAgZGlzcGxheU5hbWU6ICJTdGFuZGFyZCIKICAgICAgbG9uZ0Rl\
c2NyaXB0aW9uOiAiIgogICAgICBjb3N0OiAkMC4wMAo="





USER apb
