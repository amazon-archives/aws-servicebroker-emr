FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.spec"=\
"dmVyc2lvbjogMS4wCm5hbWU6IGVtci1hcGIKZGVzY3JpcHRpb246ICdNYW5hZ2VkIEhhZG9vcCBj\
bHVzdGVyIGluIHRoZSBjbG91ZCB3aXRoIGp1c3QgYSBmZXcgY2xpY2tzLicKdGFnczoKICAtIGFt\
YXpvbgogIC0gZW1yCmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbAptZXRhZGF0YToKICBk\
aXNwbGF5TmFtZTogIkFtYXpvbiBFTVIgKEFQQikiCiAgbG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9u\
IEVsYXN0aWMgTWFwIHJlZHVjZSAgKEFtYXpvbiBFTVIpIHByb3ZpZGVzIGEgbWFuYWdlZCBIYWRv\
b3AgZnJhbWV3b3JrIHRoYXQgbWFrZXMgaXQgZWFzeSwgZmFzdCwgYW5kIGNvc3QtZWZmZWN0aXZl\
IHRvIHByb2Nlc3MgdmFzdCBhbW91bnRzIG9mIGRhdGEgYWNyb3NzIGR5bmFtaWNhbGx5IHNjYWxh\
YmxlIEFtYXpvbiBFQzIgaW5zdGFuY2VzLiIKICBpbWFnZVVybDogImh0dHBzOi8vczMuYW1hem9u\
YXdzLmNvbS90aHAtYXdzLWljb25zLWRldi9BbmFseXRpY3NfQW1hem9uRU1SX0xBUkdFLnBuZyIK\
ICBkb2N1bWVudGF0aW9uVXJsOiAiaHR0cHM6Ly9hd3MuYW1hem9uLmNvbS9lbXIvIgpwbGFuczoK\
ICAtIG5hbWU6IGRlZmF1bHQKICAgIGRlc2NyaXB0aW9uOiAnRU1SIENsdXN0ZXInCiAgICBmcmVl\
OiBmYWxzZQogICAgcGFyYW1ldGVyczoKICAgICAgLSBuYW1lOiBzdGFja19pZGVudGlmaWVyCiAg\
ICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogVW5pcXVlIFN0YWNrIElkZW50aWZp\
ZXIKICAgICAgICBkZXNjcmlwdGlvbjogJ1VuaXF1ZSBpZGVudGlmaWVyIHRvIGJlIGluY2x1ZGVk\
IGluIHRoZSBDbG91ZEZvcm1hdGlvbiBTdGFjayBOYW1lIHRvIHByZXZlbnQgbmFtaW5nIGNvbGxp\
c2lvbnMuIE11c3Qgb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIGFuZCBoeXBo\
ZW5zLiAoZS5nLiAic2FtcGxlLWVtci1zdGFjayIsICJwcm9kdWN0aW9uLWVtci0wOC0yMDE3Iikn\
CiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogYXdzX2FjY2Vzc19rZXkKICAgICAg\
ICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgQWNjZXNzIEtleQogICAgICAgIGRl\
c2NyaXB0aW9uOiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0aGVudGljYXRlIHRvIEFXUyB3aXRoLicK\
ICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBhd3Nfc2VjcmV0X2tleQogICAgICAg\
IHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBTZWNyZXQgS2V5CiAgICAgICAgZGVz\
Y3JpcHRpb246ICdBV1MgU2VjcmV0IEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwog\
ICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IHJlZ2lvbgogICAgICAgIHJlcXVpcmVk\
OiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBSZWdpb24KICAgICAgICBkZXNjcmlwdGlvbjogJ0FX\
UyBSZWdpb24gdG8gY3JlYXRlIEVNUiBDbHVzdGVyIGluLicKICAgICAgICB0eXBlOiBlbnVtCiAg\
ICAgICAgZW51bToKICAgICAgICAgICAtIGFwLW5vcnRoZWFzdC0xCiAgICAgICAgICAgLSBhcC1u\
b3J0aGVhc3QtMgogICAgICAgICAgIC0gYXAtc291dGgtMQogICAgICAgICAgIC0gYXAtc291dGhl\
YXN0LTEKICAgICAgICAgICAtIGFwLXNvdXRoZWFzdC0yCiAgICAgICAgICAgLSBjYS1jZW50cmFs\
LTEKICAgICAgICAgICAtIGV1LWNlbnRyYWwtMQogICAgICAgICAgIC0gZXUtd2VzdC0xCiAgICAg\
ICAgICAgLSBldS13ZXN0LTIKICAgICAgICAgICAtIHNhLWVhc3QtMQogICAgICAgICAgIC0gdXMt\
ZWFzdC0xCiAgICAgICAgICAgLSB1cy1lYXN0LTIKICAgICAgICAgICAtIHVzLXdlc3QtMQogICAg\
ICAgICAgIC0gdXMtd2VzdC0yCiAgICAgICAgZGVmYXVsdDogInVzLXdlc3QtMiIKICAgICAgLSBu\
YW1lOiBBcHBsaWNhdGlvbk5hbWUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxl\
OiBBcHBsaWNhdGlvbiBOYW1lCiAgICAgICAgZGVzY3JpcHRpb246ICdFTVIgQ2x1c3RlciBBcHBs\
aWNhdGlvbiB0byBiZSBpbnN0YWxsZWQgKGUuZy4gIlNwYXJrIiwgIkhiYXNlIiknCiAgICAgICAg\
dHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogIlNwYXJrIgogICAgICAtIG5hbWU6IEVNUkNs\
dXN0ZXJOYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogRU1SIENsdXN0\
ZXIgTmFtZQogICAgICAgIGRlc2NyaXB0aW9uOiAnTmFtZSBvZiB0aGUgY2x1c3RlcicKICAgICAg\
ICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAiRU1SQ2x1c3RlcjEiCiAgICAgIC0gbmFt\
ZTogS2V5TmFtZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEVDMiBLZXkg\
UGFpcgogICAgICAgIGRlc2NyaXB0aW9uOiAnS2V5IFBhaXIgZm9yIFNTSCBhY2Nlc3MgdG8gY2x1\
c3RlcicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAiTXlLZXlQYWlyIgog\
ICAgICAtIG5hbWU6IE1hc3Rlckluc3RhbmNlVHlwZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAg\
ICAgICAgdGl0bGU6IE1hc3RlciBJbnN0YW5jZSBUeXBlCiAgICAgICAgZGVzY3JpcHRpb246ICdF\
QzIgaW5zdGFuY2UgdHlwZSBmb3IgTWFzdGVyIE5vZGUnCiAgICAgICAgdHlwZTogZW51bQogICAg\
ICAgIGVudW06CiAgICAgICAgICAtIG00LjJ4bGFyZ2UKICAgICAgICAgIC0gbTQubGFyZ2UKICAg\
ICAgICAgIC0gbTQueGxhcmdlCiAgICAgICAgICAtIG00LjR4bGFyZ2UKICAgICAgICAgIC0gbTQu\
MTB4bGFyZ2UKICAgICAgICAgIC0gbTQuMTZ4bGFyZ2UKICAgICAgICAgIC0gbTMueGxhcmdlCiAg\
ICAgICAgICAtIG0zLjJ4bGFyZ2UKICAgICAgICAgIC0gYzMueGxhcmdlCiAgICAgICAgICAtIGMz\
LjJ4bGFyZ2UKICAgICAgICAgIC0gYzMuNHhsYXJnZQogICAgICAgICAgLSBjMy44eGxhcmdlCiAg\
ICAgICAgICAtIGM0LmxhcmdlCiAgICAgICAgICAtIGM0LnhsYXJnZQogICAgICAgICAgLSBjNC4y\
eGxhcmdlCiAgICAgICAgICAtIGM0LjR4bGFyZ2UKICAgICAgICAgIC0gYzQuOHhsYXJnZQogICAg\
ICAgICAgLSBkMi54bGFyZ2UKICAgICAgICAgIC0gZDIuMnhsYXJnZQogICAgICAgICAgLSBkMi40\
eGxhcmdlCiAgICAgICAgICAtIGQyLjh4bGFyZ2UKICAgICAgICAgIC0gcjQueGxhcmdlCiAgICAg\
ICAgICAtIHI0LjJ4bGFyZ2UKICAgICAgICAgIC0gcjQuNHhsYXJnZQogICAgICAgICAgLSByNC44\
eGxhcmdlCiAgICAgICAgICAtIHI0LjE2eGxhcmdlCiAgICAgICAgZGVmYXVsdDogIm0zLnhsYXJn\
ZSIKICAgICAgLSBuYW1lOiBDb3JlSW5zdGFuY2VUeXBlCiAgICAgICAgcmVxdWlyZWQ6IHRydWUK\
ICAgICAgICB0aXRsZTogQ29yZSBJbnN0YW5jZSBUeXBlCiAgICAgICAgZGVzY3JpcHRpb246ICdF\
QzIgaW5zdGFuY2UgdHlwZSBmb3IgQ29yZSBOb2RlcycKICAgICAgICB0eXBlOiBzdHJpbmcKICAg\
ICAgICBkZWZhdWx0OiAibTMueGxhcmdlIgogICAgICAtIG5hbWU6IE51bWJlck9mQ29yZUluc3Rh\
bmNlcwogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IE51bWJlciBvZiBDb3Jl\
IE5vZGVzCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgbnVtYmVyIG9mIGNvcmUgbm9kZXMgdG8g\
YmUgbGF1bmNoZWQnCiAgICAgICAgdHlwZTogaW50CiAgICAgICAgZGVmYXVsdDogMgogICAgICAt\
IG5hbWU6IFN1Ym5ldElECiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogU3Vi\
bmV0IElECiAgICAgICAgZGVzY3JpcHRpb246ICdWUEMgc3VibmV0IG5vZGUgYXJlIHRvIGJlIGxh\
dW5jaGVkIGludG8gKGUuZy4gInN1Ym5ldC1kYmE0MzBhZCIpJwogICAgICAgIHR5cGU6IHN0cmlu\
ZwogICAgICAtIG5hbWU6IExvZ1VyaQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0\
bGU6IFMzIGxvZyBidWNrZXQKICAgICAgICBkZXNjcmlwdGlvbjogJ1MzIHVybCBmb3IgYnVja2V0\
IHRvIGJlIHVzZWQgZm9yIGxvZ2dpbmcgKGUuZy4gInMzOi8vZW1yY2x1c3RlcmxvZ2J1Y2tldC8i\
KScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBTM0RhdGFVcmkKICAgICAgICBy\
ZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBTMyBkYXRhIGJ1Y2tldAogICAgICAgIGRlc2Ny\
aXB0aW9uOiAnUzMgdXJsIGZvciBidWNrZXQgdG8gYmUgdXNlZCBmb3IgZGF0YSAoZS5nLiAiczM6\
Ly9lbXJjbHVzdGVyZGF0YWJ1Y2tldC8iKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBu\
YW1lOiBSZWxlYXNlTGFiZWwKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBW\
ZXJzaW9uIG9mIEVNUiB0byBiZSB1c2VkCiAgICAgICAgZGVzY3JpcHRpb246ICdFTVIgcmVsZWFz\
ZScKICAgICAgICB0eXBlOiBlbnVtCiAgICAgICAgZW51bToKICAgICAgICAgIC0gZW1yLTUuOC4w\
CiAgICAgICAgICAtIGVtci01LjcuMAogICAgICAgICAgLSBlbXItNS42LjAKICAgICAgICAgIC0g\
ZW1yLTUuNS4wCiAgICAgICAgZGVmYXVsdDogImVtci01LjcuMCIKICAgIG1ldGFkYXRhOgogICAg\
ICBkaXNwbGF5TmFtZTogIlN0YW5kYXJkIgogICAgICBpbWFnZVVybDogImh0dHBzOi8vczMuYW1h\
em9uYXdzLmNvbS90aHAtYXdzLWljb25zLWRldi9BbmFseXRpY3NfQW1hem9uRU1SX0xBUkdFLnBu\
ZyIKICAgICAgZG9jdW1lbnRhdGlvblVybDogImh0dHBzOi8vYXdzLmFtYXpvbi5jb20vZG9jdW1l\
bnRhdGlvbi9lbXIvIgogICAgICBsb25nRGVzY3JpcHRpb246ICJBbWF6b24gRU1SIGlzIGEgd2Vi\
IHNlcnZpY2UgdGhhdCBtYWtlcyBpdCBlYXN5IHRvIHByb2Nlc3MgbGFyZ2UgYW1vdW50cyBvZiBk\
YXRhIGVmZmljaWVudGx5LiBBbWF6b24gRU1SIHVzZXMgSGFkb29wIHByb2Nlc3NpbmcgY29tYmlu\
ZWQgd2l0aCBzZXZlcmFsIEFXUyBwcm9kdWN0cyB0byBkbyBzdWNoIHRhc2tzIGFzIHdlYiBpbmRl\
eGluZywgZGF0YSBtaW5pbmcsIGxvZyBmaWxlIGFuYWx5c2lzLCBtYWNoaW5lIGxlYXJuaW5nLCBz\
Y2llbnRpZmljIHNpbXVsYXRpb24sIGFuZCBkYXRhIHdhcmVob3VzaW5nLiIKICAgICAgY29zdDog\
JDAuMDAK"





USER apb
