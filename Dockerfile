FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogZW1yLWFwYgppbWFnZTogYW5zaWJsZXBsYXlib29rYnVuZGxlL2Vtci1hcGIKZGVzY3Jp\
cHRpb246ICdNYW5hZ2VkIEhhZG9vcCBjbHVzdGVyIGluIHRoZSBjbG91ZCB3aXRoIGp1c3QgYSBm\
ZXcgY2xpY2tzLicKdGFnczoKICAtIGFtYXpvbgogIC0gZW1yCmJpbmRhYmxlOiB0cnVlCmFzeW5j\
OiBvcHRpb25hbApwbGFuczoKICAtIG5hbWU6IGRlZmF1bHQKICAgIGRlc2NyaXB0aW9uOiAnRU1S\
IENsdXN0ZXInCiAgICBmcmVlOiBmYWxzZQogICAgcGFyYW1ldGVyczoKICAgICAgLSBuYW1lOiBz\
dGFja19pZGVudGlmaWVyCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogVW5p\
cXVlIFN0YWNrIElkZW50aWZpZXIKICAgICAgICBkZXNjcmlwdGlvbjogJ1VuaXF1ZSBpZGVudGlm\
aWVyIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBDbG91ZEZvcm1hdGlvbiBTdGFjayBOYW1lIHRvIHBy\
ZXZlbnQgbmFtaW5nIGNvbGxpc2lvbnMuIE11c3Qgb25seSBjb250YWluIGFscGhhbnVtZXJpYyBj\
aGFyYWN0ZXJzIGFuZCBoeXBoZW5zLiAoZS5nLiAic2FtcGxlLWVtci1zdGFjayIsICJwcm9kdWN0\
aW9uLWVtci0wOC0yMDE3IiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogYXdz\
X2FjY2Vzc19rZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgQWNj\
ZXNzIEtleQogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0aGVudGlj\
YXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBhd3Nf\
c2VjcmV0X2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBTZWNy\
ZXQgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgU2VjcmV0IEtleSB0byBhdXRoZW50aWNh\
dGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IHJlZ2lv\
bgogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBSZWdpb24KICAgICAg\
ICBkZXNjcmlwdGlvbjogJ0FXUyBSZWdpb24gdG8gY3JlYXRlIEVNUiBDbHVzdGVyIGluLicKICAg\
ICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAidXMtd2VzdC0yIgogICAgICAtIG5h\
bWU6IEFwcGxpY2F0aW9uTmFtZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6\
IEFwcGxpY2F0aW9uIE5hbWUKICAgICAgICBkZXNjcmlwdGlvbjogJ0VNUiBDbHVzdGVyIEFwcGxp\
Y2F0aW9uIHRvIGJlIGluc3RhbGxlZCAoZS5nLiAiU3BhcmsiLCAiSGJhc2UiKScKICAgICAgICB0\
eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAiU3BhcmsiCiAgICAgIC0gbmFtZTogRU1SQ2x1\
c3Rlck5hbWUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBFTVIgQ2x1c3Rl\
ciBOYW1lCiAgICAgICAgZGVzY3JpcHRpb246ICdOYW1lIG9mIHRoZSBjbHVzdGVyJwogICAgICAg\
IHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJFTVJDbHVzdGVyMSIKICAgICAgLSBuYW1l\
OiBLZXlOYW1lCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogRUMyIEtleSBQ\
YWlyCiAgICAgICAgZGVzY3JpcHRpb246ICdLZXkgUGFpciBmb3IgU1NIIGFjY2VzcyB0byBjbHVz\
dGVyJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJNeUtleVBhaXIiCiAg\
ICAgIC0gbmFtZTogTWFzdGVySW5zdGFuY2VUeXBlCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAg\
ICAgICB0aXRsZTogTWFzdGVyIEluc3RhbmNlIFR5cGUKICAgICAgICBkZXNjcmlwdGlvbjogJ0VD\
MiBpbnN0YW5jZSB0eXBlIGZvciBNYXN0ZXIgTm9kZScKICAgICAgICB0eXBlOiBzdHJpbmcKICAg\
ICAgICBkZWZhdWx0OiAibTMueGxhcmdlIgogICAgICAtIG5hbWU6IENvcmVJbnN0YW5jZVR5cGUK\
ICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBDb3JlIEluc3RhbmNlIFR5cGUK\
ICAgICAgICBkZXNjcmlwdGlvbjogJ0VDMiBpbnN0YW5jZSB0eXBlIGZvciBDb3JlIE5vZGVzJwog\
ICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJtMy54bGFyZ2UiCiAgICAgIC0g\
bmFtZTogTnVtYmVyT2ZDb3JlSW5zdGFuY2VzCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAg\
ICB0aXRsZTogTnVtYmVyIG9mIENvcmUgTm9kZXMKICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBu\
dW1iZXIgb2YgY29yZSBub2RlcyB0byBiZSBsYXVuY2hlZCcKICAgICAgICB0eXBlOiBpbnQKICAg\
ICAgICBkZWZhdWx0OiAyCiAgICAgIC0gbmFtZTogU3VibmV0SUQKICAgICAgICByZXF1aXJlZDog\
dHJ1ZQogICAgICAgIHRpdGxlOiBTdWJuZXQgSUQKICAgICAgICBkZXNjcmlwdGlvbjogJ1ZQQyBz\
dWJuZXQgbm9kZSBhcmUgdG8gYmUgbGF1bmNoZWQgaW50byAoZS5nLiAic3VibmV0LWRiYTQzMGFk\
IiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogTG9nVXJpCiAgICAgICAgcmVx\
dWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogUzMgbG9nIGJ1Y2tldAogICAgICAgIGRlc2NyaXB0\
aW9uOiAnUzMgdXJsIGZvciBidWNrZXQgdG8gYmUgdXNlZCBmb3IgbG9nZ2luZyAoZS5nLiAiczM6\
Ly9lbXJjbHVzdGVybG9nYnVja2V0LyIpJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5h\
bWU6IFMzRGF0YVVyaQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFMzIGRh\
dGEgYnVja2V0CiAgICAgICAgZGVzY3JpcHRpb246ICdTMyB1cmwgZm9yIGJ1Y2tldCB0byBiZSB1\
c2VkIGZvciBkYXRhIChlLmcuICJzMzovL2VtcmNsdXN0ZXJkYXRhYnVja2V0LyIpJwogICAgICAg\
IHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IFJlbGVhc2VMYWJlbAogICAgICAgIHJlcXVpcmVk\
OiB0cnVlCiAgICAgICAgdGl0bGU6IFZlcnNpb24gb2YgRU1SIHRvIGJlIHVzZWQKICAgICAgICBk\
ZXNjcmlwdGlvbjogJ0VNUiByZWxlYXNlJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRl\
ZmF1bHQ6ICJlbXItNS43LjAiCiAgICBtZXRhZGF0YToKICAgICAgZGlzcGxheU5hbWU6ICJBbWF6\
b24gRU1SIgogICAgICBsb25nRGVzY3JpcHRpb246ICJBbWF6b24gRWxhc3RpYyBNYXAgcmVkdWNl\
ICAoQW1hem9uIEVNUikgcHJvdmlkZXMgYSBtYW5hZ2VkIEhhZG9vcCBmcmFtZXdvcmsgdGhhdCBt\
YWtlcyBpdCBlYXN5LCBmYXN0LCBhbmQgY29zdC1lZmZlY3RpdmUgdG8gcHJvY2VzcyB2YXN0IGFt\
b3VudHMgb2YgZGF0YSBhY3Jvc3MgZHluYW1pY2FsbHkgc2NhbGFibGUgQW1hem9uIEVDMiBpbnN0\
YW5jZXMuIgogICAgICBpbWFnZVVybDogImh0dHBzOi8vZDAuYXdzc3RhdGljLmNvbS9jbG91ZC1z\
dG9yYWdlL0RlY2tfRGF0YWJhc2VzLnBuZyIKICAgICAgZG9jdW1lbnRhdGlvblVybDogImh0dHBz\
Oi8vYXdzLmFtYXpvbi5jb20vZW1yLyIKICAgICAgY29zdDogJDAuMDAK"




USER apb
