FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 python-boto && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.spec"=\
"dmVyc2lvbjogMS4wCm5hbWU6IGVtci1hcGIKZGVzY3JpcHRpb246ICdNYW5hZ2VkIEhhZG9vcCBj\
bHVzdGVyIGluIHRoZSBjbG91ZCB3aXRoIGp1c3QgYSBmZXcgY2xpY2tzLicKdGFnczoKICAtIGFt\
YXpvbgogIC0gZW1yCmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbAptZXRhZGF0YToKICBk\
aXNwbGF5TmFtZTogIkFtYXpvbiBFTVIiCiAgaW1hZ2VVcmw6ICJodHRwczovL3MzLmFtYXpvbmF3\
cy5jb20vdGhwLWF3cy1pY29ucy1kZXYvQW5hbHl0aWNzX0FtYXpvbkVNUl9MQVJHRS5wbmciCiAg\
bG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9uIEVsYXN0aWMgTWFwIHJlZHVjZSAoQW1hem9uIEVNUikg\
cHJvdmlkZXMgYSBtYW5hZ2VkIEhhZG9vcCBmcmFtZXdvcmsgdGhhdCBtYWtlcyBpdCBlYXN5LCBm\
YXN0LCBhbmQgY29zdC1lZmZlY3RpdmUgdG8gcHJvY2VzcyB2YXN0IGFtb3VudHMgb2YgZGF0YSBh\
Y3Jvc3MgZHluYW1pY2FsbHkgc2NhbGFibGUgQW1hem9uIEVDMiBpbnN0YW5jZXMuIgogIGRvY3Vt\
ZW50YXRpb25Vcmw6ICJodHRwczovL2F3cy5hbWF6b24uY29tL2Vtci8iCnBsYW5zOgogIC0gbmFt\
ZTogZW1yCiAgICBkZXNjcmlwdGlvbjogJ0VNUiBDbHVzdGVyJwogICAgZnJlZTogZmFsc2UKICAg\
IG1ldGFkYXRhOgogICAgICBkaXNwbGF5TmFtZTogU3RhbmRhcmQgRU1SCiAgICAgIGxvbmdEZXNj\
cmlwdGlvbjogIkFtYXpvbiBFTVIgaXMgYSB3ZWIgc2VydmljZSB0aGF0IG1ha2VzIGl0IGVhc3kg\
dG8gcHJvY2VzcyBsYXJnZSBhbW91bnRzIG9mIGRhdGEgZWZmaWNpZW50bHkuIEFtYXpvbiBFTVIg\
dXNlcyBIYWRvb3AgcHJvY2Vzc2luZyBjb21iaW5lZCB3aXRoIHNldmVyYWwgQVdTIHByb2R1Y3Rz\
IHRvIGRvIHN1Y2ggdGFza3MgYXMgd2ViIGluZGV4aW5nLCBkYXRhIG1pbmluZywgbG9nIGZpbGUg\
YW5hbHlzaXMsIG1hY2hpbmUgbGVhcm5pbmcsIHNjaWVudGlmaWMgc2ltdWxhdGlvbiwgYW5kIGRh\
dGEgd2FyZWhvdXNpbmcuIgogICAgICBjb3N0OiAkMC4wMAogICAgcGFyYW1ldGVyczoKICAgICAg\
IyMjIyMjIyMjIyMjIyMjCiAgICAgICMgQVdTIEFjY291bnQgSW5mb3JtYXRpb24KICAgICAgIyMj\
IyMjIyMjIyMjIyMjCiAgICAgIC0gbmFtZTogYXdzX2FjY2Vzc19rZXkKICAgICAgICByZXF1aXJl\
ZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgQWNjZXNzIEtleQogICAgICAgIGRlc2NyaXB0aW9u\
OiAnQVdTIEFjY2VzcyBLZXkgdG8gYXV0aGVudGljYXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0\
eXBlOiBzdHJpbmcKICAgICAgICBkaXNwbGF5X2dyb3VwOiBBV1MgQWNjb3VudCBJbmZvcm1hdGlv\
bgogICAgICAtIG5hbWU6IGF3c19zZWNyZXRfa2V5CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAg\
ICAgICB0aXRsZTogQVdTIFNlY3JldCBLZXkKICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBTZWNy\
ZXQgS2V5IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0aC4nCiAgICAgICAgdHlwZTogc3RyaW5n\
CiAgICAgICAgZGlzcGxheV9ncm91cDogQVdTIEFjY291bnQgSW5mb3JtYXRpb24KICAgICAgLSBu\
YW1lOiBhd3NfY2xvdWRmb3JtYXRpb25fcm9sZV9hcm4KICAgICAgICByZXF1aXJlZDogdHJ1ZQog\
ICAgICAgIHRpdGxlOiBBV1MgQ2xvdWRmb3JtYXRpb24gcm9sZSBBUk4KICAgICAgICBkZXNjcmlw\
dGlvbjogJ0lBTSByb2xlIEFSTiBmb3IgdXNlIGFzIENsb3VkZm9ybWF0aW9uIFN0YWNrIFJvbGUu\
JwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRpc3BsYXlfZ3JvdXA6IEFXUyBBY2NvdW50\
IEluZm9ybWF0aW9uCiAgICAgIC0gbmFtZTogS2V5TmFtZQogICAgICAgIHJlcXVpcmVkOiB0cnVl\
CiAgICAgICAgdGl0bGU6IEVDMiBLZXkgUGFpcgogICAgICAgIGRlc2NyaXB0aW9uOiAnS2V5IFBh\
aXIgZm9yIFNTSCBhY2Nlc3MgdG8gY2x1c3RlcicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAg\
ICBkZWZhdWx0OiAiTXlLZXlQYWlyIgogICAgICAgIGRpc3BsYXlfZ3JvdXA6IEFXUyBBY2NvdW50\
IEluZm9ybWF0aW9uCiAgICAgIC0gbmFtZTogcmVnaW9uCiAgICAgICAgcmVxdWlyZWQ6IHRydWUK\
ICAgICAgICB0aXRsZTogQVdTIFJlZ2lvbgogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIFJlZ2lv\
biB0byBjcmVhdGUgRU1SIENsdXN0ZXIgaW4uJwogICAgICAgIHR5cGU6IGVudW0KICAgICAgICBl\
bnVtOgogICAgICAgICAgLSBhcC1ub3J0aGVhc3QtMQogICAgICAgICAgLSBhcC1ub3J0aGVhc3Qt\
MgogICAgICAgICAgLSBhcC1zb3V0aC0xCiAgICAgICAgICAtIGFwLXNvdXRoZWFzdC0xCiAgICAg\
ICAgICAtIGFwLXNvdXRoZWFzdC0yCiAgICAgICAgICAtIGNhLWNlbnRyYWwtMQogICAgICAgICAg\
LSBldS1jZW50cmFsLTEKICAgICAgICAgIC0gZXUtd2VzdC0xCiAgICAgICAgICAtIGV1LXdlc3Qt\
MgogICAgICAgICAgLSBzYS1lYXN0LTEKICAgICAgICAgIC0gdXMtZWFzdC0xCiAgICAgICAgICAt\
IHVzLWVhc3QtMgogICAgICAgICAgLSB1cy13ZXN0LTEKICAgICAgICAgIC0gdXMtd2VzdC0yCiAg\
ICAgICAgZGVmYXVsdDogInVzLXdlc3QtMiIKICAgICAgIyMjIyMjIyMjIyMjIyMjCiAgICAgICMg\
RU1SIFNldHRpbmdzCiAgICAgICMjIyMjIyMjIyMjIyMjIwogICAgICAtIG5hbWU6IEVNUkFwcGxp\
Y2F0aW9uCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogRU1SIEFwcGxpY2F0\
aW9uCiAgICAgICAgZGVzY3JpcHRpb246ICdFTVIgQ2x1c3RlciBBcHBsaWNhdGlvbiB0byBiZSBp\
bnN0YWxsZWQnCiAgICAgICAgdHlwZTogZW51bQogICAgICAgIGVudW06CiAgICAgICAgICAtIFNw\
YXJrCiAgICAgICAgICAtIEhiYXNlCiAgICAgICAgZGVmYXVsdDogU3BhcmsKICAgICAgICBkaXNw\
bGF5X2dyb3VwOiBFTVIgU2V0dGluZ3MKICAgICAgLSBuYW1lOiBFTVJDbHVzdGVyTmFtZQogICAg\
ICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IEVNUiBDbHVzdGVyIE5hbWUKICAgICAg\
ICBkZXNjcmlwdGlvbjogJ05hbWUgb2YgdGhlIGNsdXN0ZXInCiAgICAgICAgdHlwZTogc3RyaW5n\
CiAgICAgICAgZGVmYXVsdDogIkVNUkNsdXN0ZXIxIgogICAgICAgIGRpc3BsYXlfZ3JvdXA6IEVN\
UiBTZXR0aW5ncwogICAgICAtIG5hbWU6IFJlbGVhc2VMYWJlbAogICAgICAgIHJlcXVpcmVkOiB0\
cnVlCiAgICAgICAgdGl0bGU6IFZlcnNpb24gb2YgRU1SIHRvIGJlIHVzZWQKICAgICAgICBkZXNj\
cmlwdGlvbjogJ0VNUiByZWxlYXNlJwogICAgICAgIHR5cGU6IGVudW0KICAgICAgICBlbnVtOgog\
ICAgICAgICAgLSBlbXItNS44LjAKICAgICAgICAgIC0gZW1yLTUuNy4wCiAgICAgICAgICAtIGVt\
ci01LjYuMAogICAgICAgICAgLSBlbXItNS41LjAKICAgICAgICBkZWZhdWx0OiAiZW1yLTUuNy4w\
IgogICAgICAgIGRpc3BsYXlfZ3JvdXA6IEVNUiBTZXR0aW5ncwogICAgICAjIyMjIyMjIyMjIyMj\
IyMKICAgICAgIyBDbHVzdGVyIFNpemluZwogICAgICAjIyMjIyMjIyMjIyMjIyMKICAgICAgLSBu\
YW1lOiBNYXN0ZXJJbnN0YW5jZVR5cGUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRp\
dGxlOiBNYXN0ZXIgSW5zdGFuY2UgVHlwZQogICAgICAgIGRlc2NyaXB0aW9uOiAnRUMyIGluc3Rh\
bmNlIHR5cGUgZm9yIE1hc3RlciBOb2RlJwogICAgICAgIHR5cGU6IGVudW0KICAgICAgICBlbnVt\
OgogICAgICAgICAgLSBtNC4yeGxhcmdlCiAgICAgICAgICAtIG00LmxhcmdlCiAgICAgICAgICAt\
IG00LnhsYXJnZQogICAgICAgICAgLSBtNC40eGxhcmdlCiAgICAgICAgICAtIG00LjEweGxhcmdl\
CiAgICAgICAgICAtIG00LjE2eGxhcmdlCiAgICAgICAgICAtIG0zLnhsYXJnZQogICAgICAgICAg\
LSBtMy4yeGxhcmdlCiAgICAgICAgICAtIGMzLnhsYXJnZQogICAgICAgICAgLSBjMy4yeGxhcmdl\
CiAgICAgICAgICAtIGMzLjR4bGFyZ2UKICAgICAgICAgIC0gYzMuOHhsYXJnZQogICAgICAgICAg\
LSBjNC5sYXJnZQogICAgICAgICAgLSBjNC54bGFyZ2UKICAgICAgICAgIC0gYzQuMnhsYXJnZQog\
ICAgICAgICAgLSBjNC40eGxhcmdlCiAgICAgICAgICAtIGM0Ljh4bGFyZ2UKICAgICAgICAgIC0g\
ZDIueGxhcmdlCiAgICAgICAgICAtIGQyLjJ4bGFyZ2UKICAgICAgICAgIC0gZDIuNHhsYXJnZQog\
ICAgICAgICAgLSBkMi44eGxhcmdlCiAgICAgICAgICAtIHI0LnhsYXJnZQogICAgICAgICAgLSBy\
NC4yeGxhcmdlCiAgICAgICAgICAtIHI0LjR4bGFyZ2UKICAgICAgICAgIC0gcjQuOHhsYXJnZQog\
ICAgICAgICAgLSByNC4xNnhsYXJnZQogICAgICAgIGRlZmF1bHQ6ICJtNC54bGFyZ2UiCiAgICAg\
ICAgZGlzcGxheV9ncm91cDogQ2x1c3RlciBTaXppbmcKICAgICAgLSBuYW1lOiBDb3JlSW5zdGFu\
Y2VUeXBlCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQ29yZSBJbnN0YW5j\
ZSBUeXBlCiAgICAgICAgZGVzY3JpcHRpb246ICdFQzIgaW5zdGFuY2UgdHlwZSBmb3IgQ29yZSBO\
b2RlcycKICAgICAgICB0eXBlOiBlbnVtCiAgICAgICAgZW51bToKICAgICAgICAgIC0gbTQuMnhs\
YXJnZQogICAgICAgICAgLSBtNC5sYXJnZQogICAgICAgICAgLSBtNC54bGFyZ2UKICAgICAgICAg\
IC0gbTQuNHhsYXJnZQogICAgICAgICAgLSBtNC4xMHhsYXJnZQogICAgICAgICAgLSBtNC4xNnhs\
YXJnZQogICAgICAgICAgLSBtMy54bGFyZ2UKICAgICAgICAgIC0gbTMuMnhsYXJnZQogICAgICAg\
ICAgLSBjMy54bGFyZ2UKICAgICAgICAgIC0gYzMuMnhsYXJnZQogICAgICAgICAgLSBjMy40eGxh\
cmdlCiAgICAgICAgICAtIGMzLjh4bGFyZ2UKICAgICAgICAgIC0gYzQubGFyZ2UKICAgICAgICAg\
IC0gYzQueGxhcmdlCiAgICAgICAgICAtIGM0LjJ4bGFyZ2UKICAgICAgICAgIC0gYzQuNHhsYXJn\
ZQogICAgICAgICAgLSBjNC44eGxhcmdlCiAgICAgICAgICAtIGQyLnhsYXJnZQogICAgICAgICAg\
LSBkMi4yeGxhcmdlCiAgICAgICAgICAtIGQyLjR4bGFyZ2UKICAgICAgICAgIC0gZDIuOHhsYXJn\
ZQogICAgICAgICAgLSByNC54bGFyZ2UKICAgICAgICAgIC0gcjQuMnhsYXJnZQogICAgICAgICAg\
LSByNC40eGxhcmdlCiAgICAgICAgICAtIHI0Ljh4bGFyZ2UKICAgICAgICAgIC0gcjQuMTZ4bGFy\
Z2UKICAgICAgICBkZWZhdWx0OiBtNC54bGFyZ2UKICAgICAgICBkaXNwbGF5X2dyb3VwOiBDbHVz\
dGVyIFNpemluZwogICAgICAtIG5hbWU6IE51bWJlck9mQ29yZUluc3RhbmNlcwogICAgICAgIHJl\
cXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IE51bWJlciBvZiBDb3JlIE5vZGVzCiAgICAgICAg\
ZGVzY3JpcHRpb246ICdUaGUgbnVtYmVyIG9mIGNvcmUgbm9kZXMgdG8gYmUgbGF1bmNoZWQnCiAg\
ICAgICAgdHlwZTogaW50CiAgICAgICAgZGVmYXVsdDogMgogICAgICAgIGRpc3BsYXlfZ3JvdXA6\
IENsdXN0ZXIgU2l6aW5nCiAgICAgICMjIyMjIyMjIyMjIyMjIwogICAgICAjIE5ldHdvcmsgU2V0\
dGluZ3MKICAgICAgIyMjIyMjIyMjIyMjIyMjCiAgICAgIC0gbmFtZTogVnBjSWQKICAgICAgICBy\
ZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBWUEMgSUQKICAgICAgICBkZXNjcmlwdGlvbjog\
J1ZQQyB0byBwbGFjZSBFTVIgc3VibmV0IGludG8nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAg\
ICAgZGlzcGxheV9ncm91cDogTmV0d29yayBTZXR0aW5ncwogICAgICAtIG5hbWU6IEVNUkNpZHIK\
ICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBFTVIgQ0lEUiBSYW5nZQogICAg\
ICAgIGRlc2NyaXB0aW9uOiAnQ0lEUiBSYW5nZSB0byB1c2UgZm9yIEVNUiBjbHVzdGVyIHN1Ym5l\
dCcKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkaXNwbGF5X2dyb3VwOiBOZXR3b3JrIFNl\
dHRpbmdz"





USER apb
